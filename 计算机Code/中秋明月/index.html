<!DOCTYPE html>
<html class="no-js">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>test</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        @charset "utf-8";

        html,
        body {
            padding: 0px;
            margin: 0px;
            overflow: hidden;
        }


        #bg {
            height: 100vh;
            width: auto;
            background: radial-gradient(150% 95% at bottom center, rgb(67, 19, 122) 20%, rgb(6, 6, 70) 55%, rgb(7, 7, 70) 70%, rgb(18, 2, 56) 85%, rgb(5, 1, 22) 100%);
            overflow: hidden;
            z-index: 1;
        }

        #water {
            position: relative;
            top: 70vh;
            height: 30vh;
            width: auto;
            /* background: -webkit-linear-gradient(bottom,rgb(10,10,78),rgb(4,11,99)); */
            /* background-color: rgb(3,13,65); */
            /* background: radial-gradient(13.3% 54% at 50.5% 0%,rgb(247, 247, 235) 78%,rgb(18, 2, 56) 85%,rgb(7, 2, 37) 100%); */
            z-index: 2;

            box-shadow: 0 0 20px rgba(221, 225, 222, 0.9);
        }

        #moon {
            height: 400px;
            width: 400px;
            background-color: rgb(250, 246, 227);
            border-radius: 50%;
            z-index: 1;
            position: absolute;
            left: 40%;
            font-family: cursive;
            box-shadow: 0 0 50px rgba(251, 255, 254, 2);
        }

        @keyframes rotate {
            0% {
                transform: perspective(400px) rotateZ(20deg) rotateX(-40deg) rotateY(0);
            }

            100% {
                transform: perspective(400px) rotateZ(20deg) rotateX(-40deg) rotateY(-360deg);
            }
        }

        .stars,
        .starUnder {
            transform: perspective(500px);
            transform-style: preserve-3d;
            position: absolute;
            bottom: 0;
            perspective-origin: 50% 100%;
            left: 50%;
            animation: rotate 270s infinite linear;
        }

        .star,
        .star1 {
            width: 2px;
            height: 2px;
            background: rgb(247, 204, 232);
            position: absolute;
            top: 0;
            left: 0;
            transform-origin: 0 0 -300px;
            transform: translate3d(0, 0, -300px);
            backface-visibility: hidden;
        }

        .star1 {

            background-color: aliceblue;
            box-shadow: 0 0 10px rgb(221, 225, 222);
        }


        #girl {
            width: 150px;
            height: 150px;
            position: absolute;
            left: 64%;
            top: 28%;
            z-index: 3;
        }


        .thisTime {
            position: absolute;
            font-family: cursive;
            top: 8%;
            left: 50%;
        }

        .Ocean {
            position: absolute;
            left: 30%;
            top: 0%;
        }

        .thisTime,
        .Ocean p {
            font-size: 34px;
            font-weight: bold;
            position: relative;
        }

        @keyframes appear {
            0% {
                opacity: 0;
            }

            100% {
                opacity: 1;
            }
        }
    </style>
    <script src="/Links/jquery.min.js"></script>
</head>

<body>
    <div id="bg">
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
        <!-- <img src="images/邀明月2.png" id="boat">
    <img src="images/邀明月（影）2.png" id="shadow"> -->
        <div id="water">
            <div class="starUnder"></div>
            <div class="starUnder"></div>
            <div class="starUnder"></div>
            <div class="starUnder"></div>
            <div class="starUnder"></div>
            <div class="starUnder"></div>
            <div class="starUnder"></div>
            <div class="starUnder"></div>
            <div class="starUnder"></div>
            <div class="starUnder"></div>
            <div class="starUnder"></div>
            <div class="starUnder"></div>
            <div class="starUnder"></div>
            <div class="starUnder"></div>
            <div class="starUnder"></div>
            <div class="starUnder"></div>
            <div class="starUnder"></div>
            <div class="starUnder"></div>
            <div class="starUnder"></div>
            <div class="starUnder"></div>
            <div class="starUnder"></div>
            <div class="starUnder"></div>
            <div class="starUnder"></div>
            <div class="starUnder"></div>
            <div class="starUnder"></div>
            <div class="starUnder"></div>
            <div class="starUnder"></div>
            <div class="starUnder"></div>
            <div class="starUnder"></div>
            <div class="starUnder"></div>
            <div class="starUnder"></div>
            <div class="starUnder"></div>
            <div class="starUnder"></div>
            <div class="starUnder"></div>
            <div class="starUnder"></div>
            <div class="starUnder"></div>
            <div class="starUnder"></div>
            <div class="starUnder"></div>
            <div class="starUnder"></div>
            <div class="starUnder"></div>
        </div>
        <div id="moon">
        </div>
    </div>

    <script>
        $(document).ready(function () {
            var poem1 = ["海", "上", "升", "明", "月"];
            var poem2 = ["天", "涯", "共", "此", "时"];
            var arrWid = [0, 80, 320];
            var arrHgt = [0, 10, 200];
            var posTop = [0, 2, 13, 46];
            var spdWid = 16;
            var spdHgt = 10;
            var moon = document.getElementById("moon");
            var water = document.getElementById("water");
            var Ocean = document.getElementsByClassName("Ocean");
            moon.style.top = 670 + "px";
            var timer = setInterval(function () {
                moon.style.top = moon.offsetTop - 10 + "px";
                if (moon.offsetTop >= 660) {
                    bg(arrWid[0], arrHgt[0], 0);
                } else if (moon.offsetTop >= 440) {
                    if (arrWid[1] >= 200 || arrHgt[1] >= 110) {
                        spdHgt = 7.5;
                        spdWid = 8;
                    }
                    arrWid[1] += spdWid;
                    arrHgt[1] += spdHgt;

                    bg(arrWid[1], arrHgt[1], 0);
                } else if (moon.offsetTop >= 430) {
                    bg(arrWid[2], arrHgt[2], 0);
                } else if (moon.offsetTop >= 420) {
                    posTop[0] += 2;
                    bg(arrWid[2], arrHgt[2], posTop[0]);
                } else if (moon.offsetTop >= 410) {
                    posTop[1] += 11;
                    bg(arrWid[2], arrHgt[2], posTop[1]);
                } else if (moon.offsetTop >= 240) {
                    posTop[2] += 2;
                    bg(arrWid[2], arrHgt[2], posTop[2]);
                } else if (moon.offsetTop >= 140) {
                    posTop[3] += 0.4;
                    //月亮即将完全升起时开始改变它的大小（影）
                    if (moon.offsetTop <= 260 && moon.offsetTop >= 140) {
                        arrWid[2] -= 4;
                        arrHgt[2] -= 1;
                        bg(arrWid[2], arrHgt[2], posTop[3]);
                    }
                } else {
                    bg(284, 190, 50);
                    clearInterval(timer);
                    var a = document.createElement("div");
                    a.className = "Ocean";
                    moon.appendChild(a);
                    moon.innerHTML += "<img id='girl' src='Picture/嫦娥.png'>";
                    var girl = document.getElementById("girl");
                    girl.style.animation = "appear 6s linear";
                    word(Ocean[0], 500, poem1);
                    var timeOut = setTimeout(function () {
                        var div = document.createElement("div");
                        div.className = "thisTime";
                        moon.appendChild(div);
                        var thisTime = document.getElementsByClassName("thisTime");
                        word(thisTime[0], 500, poem2);
                        clearTimeout(timeOut);
                    }, 2500);
                }
            }, 100);

            createStar(40, ".stars", "star", 1, 300, 360, -100);
            createStar(40, ".starUnder", "star1", 1.5, 360, 300, 200);
            //修改倒影
            function bg(widSpd, hgtSpd, posTop) {
                return water.style.background = "radial-gradient(" + widSpd + "px " + hgtSpd + "px at 50.5% " + posTop + "%,rgb(250, 250, 249) 50%,rgb(247, 247, 245) 63%,rgb(7,7,70) 70%,rgb(18, 2, 56) 85%,rgb(13, 1, 59) 100%)";
            };
            //制造星星
            function createStar(starNum, element, element2, scal, deg, rotY, rotX) {
                var stars = starNum;
                var $stars = $(element);
                var r = 2000;
                for (var i = 0; i < stars; i++) {
                    var $star = $("<div/>").addClass(element2);
                    $stars.append($star);
                }
                $("." + element2).each(function () {
                    var cur = $(this);
                    var s = 0.2 + (Math.random() * scal);
                    var curR = r + (Math.random() * deg);
                    cur.css({
                        transformOrigin: "0 0 " + curR + "px",
                        transform: " translate3d(0,0,-" + curR + "px) rotateY(" + (Math.random() * rotY) + "deg) rotateX(" + (Math.random() * rotX) + "deg) rotateY(" + -10 + "deg) scale(" + s + "," + s + ")"
                    })
                })
            }
            //字
            function word(className, dur, array) {
                var i = 0;
                var timeName = setInterval(function () {
                    className.style.animation = "appear 4s linear";
                    var p = document.createElement("p");
                    p.innerHTML = array[i];
                    className.appendChild(p);
                    i++;
                    if (i >= array.length) {
                        clearInterval(timeName);
                    }
                }, dur);
            }

        })
    </script>
</body>

</html>