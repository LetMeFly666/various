<!--
 * @Author: LetMeFly
 * @Date: 2021-07-18 18:58:17
 * @LastEditors: LetMeFly
 * @LastEditTime: 2021-07-18 19:08:59
-->
# 四区域传递问题
> 有3个进程：get, copy和put，它们对4个存储区域f、s、t和g进行操作：
其中：f有取之不尽的数据可以get；g有用之不完的空间可以put，s和t则只有一个存储空间。
><img src="data:image/jpeg;base64,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">

```cpp
semaphore fullS=0, emptyS=1;
semaphore fullT=0, emptyT=1;

void get()
{
    while(true)
    {
        P(emptyS);
        from f to s;
        V(fullS);
    }
}

void copy()
{
    while(true)
    {
        // 答案上是两个条件都满足的时候，一下子从s就到t了
        // P(fullS);
        // get one from s;
        // V(emptyS);

        // P(emptyT);
        // put it into t;
        // V(fullT);
    }
}

void put()
{
    P(fullT);
    from t to g;
    V(emptyT);
}

void main()
{
    cobegin;
        get();
        copy();
        put();
    coend;
}
```